{"version":3,"sources":["scroll-points.js","app.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["'use strict';\n\nlet throttle = (fn, ms) => {\n    let timeout,\n        last = 0;\n    return function() {\n        let a = arguments,\n            t = this,\n            now = +(new Date()),\n            exe = function() { \n                last = now; \n                fn.apply(t,a); \n            };\n        window.clearTimeout(timeout);\n        if(now >= last + ms) {\n            exe();\n        } else {\n            timeout = window.setTimeout(exe, ms);\n        }\n    };\n}\n\nlet instances = [],\n        defaults = {\n            offset: 0,\n            callback: null,\n            throttle: 60,\n            className: 'is-scrolled-in',\n            unload: true\n        },\n        StormScrollpoints = {\n            init() {\n\t\t\t\tthis.throttled = throttle(() => {\n\t\t\t\t\tthis.check.call(this);\n\t\t\t\t}, this.settings.throttle);\n\t\t\t\t\n\t\t\t\tdocument.addEventListener('scroll', this.throttled, true);\n\t\t\t\tdocument.addEventListener('resize', this.throttled, true);\n        \t\tthis.check();\n            },\n\t\t\tcheck(){\n\t\t\t\tif (!!this.enteredView()) {\n\t\t\t\t\tthis.DOMElement.classList.add(this.settings.className);\n\t\t\t\t\t!!this.settings.callback && this.settings.callback.call(this);\n\n\t\t\t\t\tif(!!this.settings.unload) {\n\t\t\t\t\t\tdocument.removeEventListener('scroll', this.throttled, true);\n\t\t\t\t\t\tdocument.addEventListener('resize', this.throttled, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tenteredView(){\n                var box = this.DOMElement.getBoundingClientRect(),\n                    triggerPos = !!this.settings.offset.indexOf && this.settings.offset.indexOf('%') ? window.innerHeight - (window.innerHeight / 100) * +(this.settings.offset.substring(0, this.settings.offset.length - 1)) : window.innerHeight - +(this.settings.offset);\n                \n                triggerPos = isNaN(triggerPos) ? window.innerHeight : triggerPos;\n                \n                return (box.top - triggerPos <= 0);\n\t\t\t}\n        };\n\n\t\nlet create = (el, i, opts) => {\n    instances[i] = Object.assign(Object.create(StormScrollpoints), {\n        DOMElement: el,\n        settings: Object.assign({}, defaults, opts)\n    });\n    instances[i].init();\n}\n\nlet init = (sel, opts) => {\n    var els = [].slice.call(document.querySelectorAll(sel));\n    \n    if(els.length === 0) {\n        throw new Error('Scroll Points cannot be initialised, no augmentable elements found');\n    }\n    \n    els.forEach((el, i) => {\n        create(el, i, opts);\n    });\n    return instances;\n    \n}\n\nlet reload = (sel, opts) => {\n    [].slice.call(document.querySelectorAll(sel)).forEach((el, i) => {\n        if(!instances.filter(instance => { return (instance.btn === el); }).length) {\n            create(el, instances.length, opts);\n        }\n    });\n}\n\nlet destroy = () => {\n    instances = [];  \n}\n\nlet ScrollPoints = { init, reload, destroy }\n\nexport { ScrollPoints };","'use strict';\n\nimport { ScrollPoints } from './scroll-points';\n\nScrollPoints.init('.js-scrollpoint');"],"sourceRoot":"/source/"}